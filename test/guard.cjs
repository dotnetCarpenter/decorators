"use strict";

var _tap = _interopRequireDefault(require("tap"));

var _guard = require("../src/guard.cjs");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function divide(a, b) {
  return a / b;
}

_tap.default.test("guard for zero", t => {
  t.plan(2);
  const guardedDivide = (0, _guard.guard)(divide, _guard.guards.zero(1));
  t.doesNotThrow(guardedDivide.bind(null, 5, 1), "should not throw with an input of 5,1");
  t.throws(guardedDivide.bind(null, 5, 0), new TypeError(), "should throw with an input of 5,0");
});

_tap.default.test("guard for zero with custom error message", t => {
  t.plan(1);
  const expected = new TypeError("Don't call divide with zero");
  const guardedDivide = (0, _guard.guard)(divide, _guard.guards.zero(1, expected));
  t.throws(guardedDivide.bind(null, 5, 0), expected, "should throw a custom error");
});

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd1YXJkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUNBOzs7O0FBRUEsU0FBUyxNQUFULENBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXNCO0FBQ3JCLFNBQU8sQ0FBQyxHQUFDLENBQVQ7QUFDQTs7QUFFRCxhQUFJLElBQUosQ0FBUyxnQkFBVCxFQUEyQixDQUFDLElBQUk7QUFDL0IsRUFBQSxDQUFDLENBQUMsSUFBRixDQUFPLENBQVA7QUFFQSxRQUFNLGFBQWEsR0FBRyxrQkFBTSxNQUFOLEVBQWMsY0FBTyxJQUFQLENBQVksQ0FBWixDQUFkLENBQXRCO0FBRUEsRUFBQSxDQUFDLENBQUMsWUFBRixDQUFlLGFBQWEsQ0FBQyxJQUFkLENBQW1CLElBQW5CLEVBQXlCLENBQXpCLEVBQTRCLENBQTVCLENBQWYsRUFBK0MsdUNBQS9DO0FBQ0EsRUFBQSxDQUFDLENBQUMsTUFBRixDQUFTLGFBQWEsQ0FBQyxJQUFkLENBQW1CLElBQW5CLEVBQXlCLENBQXpCLEVBQTRCLENBQTVCLENBQVQsRUFBeUMsSUFBSSxTQUFKLEVBQXpDLEVBQTBELG1DQUExRDtBQUNBLENBUEQ7O0FBU0EsYUFBSSxJQUFKLENBQVMsMENBQVQsRUFBcUQsQ0FBQyxJQUFJO0FBQ3pELEVBQUEsQ0FBQyxDQUFDLElBQUYsQ0FBTyxDQUFQO0FBRUEsUUFBTSxRQUFRLEdBQUcsSUFBSSxTQUFKLENBQWMsNkJBQWQsQ0FBakI7QUFFQSxRQUFNLGFBQWEsR0FBRyxrQkFBTSxNQUFOLEVBQWMsY0FBTyxJQUFQLENBQVksQ0FBWixFQUFlLFFBQWYsQ0FBZCxDQUF0QjtBQUVBLEVBQUEsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxhQUFhLENBQUMsSUFBZCxDQUFtQixJQUFuQixFQUF5QixDQUF6QixFQUE0QixDQUE1QixDQUFULEVBQXlDLFFBQXpDLEVBQW1ELDZCQUFuRDtBQUNBLENBUkQiLCJmaWxlIjoiZ3VhcmQuY2pzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcblxuaW1wb3J0IHRhcCBmcm9tIFwidGFwXCJcbmltcG9ydCB7Z3VhcmQsIGd1YXJkc30gZnJvbSBcIi4uL3NyYy9ndWFyZC5janNcIlxuXG5mdW5jdGlvbiBkaXZpZGUoYSwgYikge1xuXHRyZXR1cm4gYS9iXG59XG5cbnRhcC50ZXN0KFwiZ3VhcmQgZm9yIHplcm9cIiwgdCA9PiB7XG5cdHQucGxhbigyKVxuXG5cdGNvbnN0IGd1YXJkZWREaXZpZGUgPSBndWFyZChkaXZpZGUsIGd1YXJkcy56ZXJvKDEpKVxuXG5cdHQuZG9lc05vdFRocm93KGd1YXJkZWREaXZpZGUuYmluZChudWxsLCA1LCAxKSwgXCJzaG91bGQgbm90IHRocm93IHdpdGggYW4gaW5wdXQgb2YgNSwxXCIpXG5cdHQudGhyb3dzKGd1YXJkZWREaXZpZGUuYmluZChudWxsLCA1LCAwKSwgbmV3IFR5cGVFcnJvcigpLCBcInNob3VsZCB0aHJvdyB3aXRoIGFuIGlucHV0IG9mIDUsMFwiKVxufSlcblxudGFwLnRlc3QoXCJndWFyZCBmb3IgemVybyB3aXRoIGN1c3RvbSBlcnJvciBtZXNzYWdlXCIsIHQgPT4ge1xuXHR0LnBsYW4oMSlcblxuXHRjb25zdCBleHBlY3RlZCA9IG5ldyBUeXBlRXJyb3IoXCJEb24ndCBjYWxsIGRpdmlkZSB3aXRoIHplcm9cIilcblxuXHRjb25zdCBndWFyZGVkRGl2aWRlID0gZ3VhcmQoZGl2aWRlLCBndWFyZHMuemVybygxLCBleHBlY3RlZCkpXG5cblx0dC50aHJvd3MoZ3VhcmRlZERpdmlkZS5iaW5kKG51bGwsIDUsIDApLCBleHBlY3RlZCwgXCJzaG91bGQgdGhyb3cgYSBjdXN0b20gZXJyb3JcIilcbn0pXG4iXX0=